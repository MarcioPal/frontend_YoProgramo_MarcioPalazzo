{"ast":null,"code":"import { Skill } from 'app/model/skills.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/service/skill.service\";\nimport * as i2 from \"app/service/token.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"ng-circle-progress\";\nimport * as i5 from \"@angular/forms\";\n\nfunction VistaEdicionSkillsComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8)(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function VistaEdicionSkillsComponent_div_16_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skill_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.habilitarEdicion(skill_r1.skillName, true));\n    })(\"dblclick\", function VistaEdicionSkillsComponent_div_16_Template_button_dblclick_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skill_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.habilitarEdicion(skill_r1.skillName, false));\n    });\n    i0.ɵɵtext(2, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function VistaEdicionSkillsComponent_div_16_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skill_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.borrarSkill(skill_r1.id));\n    });\n    i0.ɵɵtext(4, \"Eliminar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"circle-progress\", 11);\n    i0.ɵɵelementStart(6, \"p\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"form\", 12)(9, \"ul\")(10, \"li\");\n    i0.ɵɵelement(11, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"li\");\n    i0.ɵɵelement(13, \"input\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"li\");\n    i0.ɵɵelement(15, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"li\")(17, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function VistaEdicionSkillsComponent_div_16_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const skill_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.editarSkill(skill_r1, skill_r1.skillName + skill_r1.id, \"porcen\" + skill_r1.id, skill_r1.urlImg + skill_r1.id));\n    });\n    i0.ɵɵtext(18, \" Confirmar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const skill_r1 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"percent\", skill_r1.porcentaje)(\"showUnits\", false)(\"showSubtitle\", false)(\"imageSrc\", skill_r1.urlImg)(\"showImage\", true)(\"imageHeight\", 80)(\"imageWidth\", 80)(\"radius\", 100)(\"outerStrokeWidth\", 16)(\"innerStrokeWidth\", 8)(\"outerStrokeColor\", \"#78C000\")(\"innerStrokeColor\", \"#C7E596\")(\"animation\", true)(\"animationDuration\", 700);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(skill_r1.skillName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", skill_r1.skillName);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"value\", skill_r1.skillName);\n    i0.ɵɵpropertyInterpolate2(\"id\", \"\", skill_r1.skillName, \"\", skill_r1.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", skill_r1.porcentaje);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"porcen\", skill_r1.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", skill_r1.urlImg);\n    i0.ɵɵpropertyInterpolate2(\"id\", \"\", skill_r1.urlImg, \"\", skill_r1.id, \"\");\n  }\n}\n\nexport let VistaEdicionSkillsComponent = /*#__PURE__*/(() => {\n  class VistaEdicionSkillsComponent {\n    constructor(servSkill, tokenService) {\n      this.servSkill = servSkill;\n      this.tokenService = tokenService;\n      this.skills = [];\n      this.isLogged = false;\n    }\n\n    ngOnInit() {\n      this.cargarSkills();\n\n      if (this.tokenService.getToken()) {\n        this.isLogged = true;\n        let botones = document.querySelectorAll('.btnEdicion');\n        botones.forEach(boton => {\n          boton.style.visibility = 'visible';\n        });\n      }\n    }\n\n    cargarSkills() {\n      this.servSkill.getSkills().subscribe(data => {\n        this.skills = data;\n      });\n    }\n\n    borrarSkill(id) {\n      let confirmacion = confirm(\"¿Esta seguro que quiere eliminar esta Skill?\");\n\n      if (id != undefined && confirmacion == true) {\n        this.servSkill.delete(id).subscribe();\n        alert(\"El item Skill fue eliminado satisfactoriamente\");\n        location.reload();\n      }\n    }\n\n    habilitarEdicion(id, abrir) {\n      let elemento;\n      elemento = document.getElementById(id);\n\n      if (id != undefined && elemento != null) {\n        if (abrir == true) {\n          elemento.style.display = 'block';\n        } else {\n          elemento.style.display = 'none';\n        }\n      }\n    }\n\n    editarSkill(skill, idName, idPorc, idUrl) {\n      const skillName = document.getElementById(idName);\n      const porcentaje = document.getElementById(idPorc);\n      const URL = document.getElementById(idUrl);\n\n      if (skillName.value != \"\" && porcentaje.value != \"\" && URL.value != \"\") {\n        skill.skillName = skillName.value;\n        skill.porcentaje = parseInt(porcentaje.value, 10);\n        skill.urlImg = URL.value;\n        this.servSkill.update(skill).subscribe();\n        alert(\"El item skill fue editado correctamente\");\n      } else {\n        alert(\"Debe completar todos los campos\");\n      }\n    }\n\n    agregarSkill() {\n      const skillName = document.getElementById('nombreSkill');\n      const porcentaje = document.getElementById('porcentajeSkill');\n      const URL = document.getElementById('imagenSkill');\n      let skill;\n\n      if (skillName.value != \"\" && porcentaje.value != \"\" && URL.value != \"\") {\n        skill = new Skill(parseInt(porcentaje.value, 10), skillName.value, URL.value);\n        this.servSkill.save(skill).subscribe();\n        alert(\"El item Skill fue agregado correctamente\");\n        location.reload();\n      } else {\n        alert(\"Debe completar todos los campos\");\n      }\n    }\n\n  }\n\n  VistaEdicionSkillsComponent.ɵfac = function VistaEdicionSkillsComponent_Factory(t) {\n    return new (t || VistaEdicionSkillsComponent)(i0.ɵɵdirectiveInject(i1.SkillService), i0.ɵɵdirectiveInject(i2.TokenService));\n  };\n\n  VistaEdicionSkillsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VistaEdicionSkillsComponent,\n    selectors: [[\"app-vista-edicion-skills\"]],\n    decls: 17,\n    vars: 1,\n    consts: [[1, \"row\"], [\"type\", \"button\", \"id\", \"a\\u00F1adir\", 1, \"btnEdicion\", 3, \"click\", \"dblclick\"], [\"action\", \"\", \"id\", \"formAgregarSkill\"], [\"name\", \"skillName\", \"type\", \"text\", \"value\", \"\", \"id\", \"nombreSkill\", \"placeholder\", \"Nombre Skill\"], [\"name\", \"porcentaje\", \"type\", \"text\", \"value\", \"\", \"id\", \"porcentajeSkill\", \"placeholder\", \"Porcentaje\"], [\"name\", \"URLSkill\", \"type\", \"text\", \"value\", \"\", \"id\", \"imagenSkill\", \"placeholder\", \"URL Imagen Skill\"], [\"type\", \"button\", 3, \"click\"], [\"class\", \"col-xs-12 col-sm-6 col-md-4 col-lg-4 col-xl-3\", \"style\", \"text-align:center\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-xs-12\", \"col-sm-6\", \"col-md-4\", \"col-lg-4\", \"col-xl-3\", 2, \"text-align\", \"center\"], [\"type\", \"button\", \"id\", \"editar\", 1, \"btnEdicion\", 3, \"click\", \"dblclick\"], [\"type\", \"button\", \"id\", \"eliminar\", 1, \"btnEdicion\", 3, \"click\"], [3, \"percent\", \"showUnits\", \"showSubtitle\", \"imageSrc\", \"showImage\", \"imageHeight\", \"imageWidth\", \"radius\", \"outerStrokeWidth\", \"innerStrokeWidth\", \"outerStrokeColor\", \"innerStrokeColor\", \"animation\", \"animationDuration\"], [3, \"id\"], [\"type\", \"text\", \"placeholder\", \"Nombre\", 3, \"value\", \"id\"], [\"type\", \"text\", \"placeholder\", \"Porcentaje\", 3, \"value\", \"id\"], [\"type\", \"text\", \"placeholder\", \"URL imagen\", 3, \"value\", \"id\"], [\"type\", \"button\", \"id\", \"confirmar\", 3, \"click\"]],\n    template: function VistaEdicionSkillsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\")(2, \"h1\");\n        i0.ɵɵtext(3, \"Hard y Soft Skills\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function VistaEdicionSkillsComponent_Template_button_click_4_listener() {\n          return ctx.habilitarEdicion(\"formAgregarSkill\", true);\n        })(\"dblclick\", function VistaEdicionSkillsComponent_Template_button_dblclick_4_listener() {\n          return ctx.habilitarEdicion(\"formAgregarSkill\", false);\n        });\n        i0.ɵɵtext(5, \"A\\u00F1adir\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\", 2)(7, \"ul\")(8, \"li\");\n        i0.ɵɵelement(9, \"input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"li\");\n        i0.ɵɵelement(11, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"li\");\n        i0.ɵɵelement(13, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function VistaEdicionSkillsComponent_Template_button_click_14_listener() {\n          return ctx.agregarSkill();\n        });\n        i0.ɵɵtext(15, \"Confirmar\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(16, VistaEdicionSkillsComponent_div_16_Template, 19, 24, \"div\", 7);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.skills);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.CircleProgressComponent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm],\n    styles: [\".row[_ngcontent-%COMP%]{background-color:#00bfff;padding:2% 20px 20px}button[_ngcontent-%COMP%]{margin-bottom:2%;display:block}form[_ngcontent-%COMP%]{display:none}h1[_ngcontent-%COMP%]{display:inline-block;width:auto}#a\\\\f1[_ngcontent-%COMP%]   adir[_ngcontent-%COMP%]{display:inline-block;width:auto;height:30px;vertical-align:middle;margin-left:5px}#confirmar[_ngcontent-%COMP%]{text-align:center;margin:0%;display:inline-block}li[_ngcontent-%COMP%]{list-style:none}\"]\n  });\n  return VistaEdicionSkillsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}